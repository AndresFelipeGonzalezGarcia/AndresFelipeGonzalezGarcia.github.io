---
import Button from "../ui/Button.astro";
import Heading from "../ui/Heading.astro";
import Tools from "../portfolio/Tools.astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";

const [staticData] = await getCollection("staticData");
const {
  profileAlt,
  profileLink,
  profileImage,
  profileName,
  email,
  emailIconName,
  contactSectionButtonText,
} = staticData.data;
---

<section class="scroll-m-16 px-8 max-sm:px-4 py-8" id="home">
  <!-- HERO -->
  <div
    class="mx-auto mb-4 h-96 w-full max-w-7xl rounded-2xl bg-linear-to-r from-mint-300 dark:from-mint-600 to-mint-50 dark:to-mint-200/5 p-[.2rem] max-md:h-auto"
  >
    <div
      class="group relative flex h-full items-center justify-center gap-8 overflow-hidden rounded-2xl bg-linear-to-tr from-riptide-100 to-white p-4 dark:bg-linear-to-r dark:from-mint-950 dark:to-zinc-950 max-sm:flex-col"
    >
      <div class="aspect-square h-4/5 max-md:size-32">
        <div class="relative flex w-full items-center overflow-hidden rounded-full p-[2px]">
          <div class="relative flex w-full rounded-full bg-mint-900">
            <div
              class="w-full aspect-square rounded-full bg-center bg-cover"
              style={`background-image: url(${profileImage})`}
              aria-label={profileAlt}
            >
              <a href={profileLink} class="flex h-full w-full" aria-label="Ir a QuiÃ©n soy"></a>
            </div>
          </div>
        </div>
      </div>

      <div class="flex h-full w-7/12 flex-col justify-center gap-4 max-md:w-full">
        <h1 class="text-4xl font-black text-blacktext dark:text-white">
          {profileName} ðŸ‘‹
        </h1>

        <p class="text-lg font-semibold text-blacktext dark:text-gray-200">
          Estudiante de <b>IngenierÃ­a de Sistemas</b> en la Universidad El Bosque.
          Este portafolio muestra mis conocimientos actuales en desarrollo web,
          bases de datos y programaciÃ³n.
        </p>

        <div class="flex gap-4 max-sm:flex-col">
          <Button
            link={"mailto:" + email}
            text={contactSectionButtonText}
            iconName={emailIconName}
          />
          <Button
            link={profileLink}
            text="Â¿QuiÃ©n soy?"
            iconName="person"
            variant="dark"
          />
        </div>
      </div>
    </div>
  </div>

  <!-- GRID -->
  <div class="mx-auto grid max-w-7xl grid-cols-2 grid-rows-4 gap-4 max-sm:gap-3 md:grid-cols-4 md:grid-rows-2">
    
    <!-- VIDEO (grande) -->
    <div
      class="col-span-2 row-span-2 rounded-2xl bg-linear-to-r from-mint-300 dark:from-mint-600 to-mint-50 dark:to-mint-200/5 p-[.2rem] hover:to-mint-300/30 dark:hover:to-mint-600/30 md:col-start-1 md:row-start-1"
    >
      <article
        class="group relative flex h-full flex-col justify-start overflow-hidden rounded-2xl bg-linear-to-br from-riptide-100 to-white dark:from-mint-950 dark:to-zinc-950 p-8 transition-all hover:shadow-[0_20px_50px_rgba(13,188,130,0.4)]"
      >
        <div class="flex items-center gap-4">
          <Icon class="text-3xl text-mint-500 dark:text-white" name="youtube" aria-hidden="true" />
          <Heading text="Sobre mÃ­" textGradient="Video" level={3} />
        </div>

        <div class="mt-6 flex flex-1 items-center justify-center">
          <iframe
            class="w-full max-w-md aspect-video rounded-2xl shadow-xl"
            src="https://www.youtube-nocookie.com/embed/LlyyF5Er8us"
            title="PresentaciÃ³n personal"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
          ></iframe>
        </div>
      </article>
    </div>

    <!-- TECH STACK (ancho arriba derecha) -->
    <div
      class="col-span-2 col-start-1 row-start-1 rounded-2xl bg-linear-to-r from-mint-300 dark:from-mint-600 to-mint-50 dark:to-mint-200/5 hover:to-mint-300/30 dark:hover:to-mint-600/30 p-[.2rem] md:col-start-3 md:row-start-1"
    >
      <article
        class="group relative z-0 flex h-full w-full flex-col overflow-hidden rounded-2xl bg-linear-to-tr from-riptide-100 to-mint-100 p-6 transition hover:shadow-[0_10px_50px_rgba(13,188,130,0.2)] dark:bg-linear-to-r dark:from-mint-900 dark:to-mint-950 max-md:p-4 gap-6"
      >
        <div class="flex items-center gap-4">
          <Icon class="text-3xl text-mint-500 dark:text-white" name="dashboard" aria-hidden="true" />
          <Heading text="Tech" textGradient="Stack" level={3} />
        </div>
        <div class="overflow-y-auto">
          <Tools />
        </div>
      </article>
    </div>

    <!-- GITHUB REPO (abajo derecha) -->
    <div
      class="col-start-1 row-start-2 rounded-2xl bg-linear-to-r from-mint-300 dark:from-mint-600 to-mint-50 dark:to-mint-200/5 hover:to-mint-300/30 dark:hover:to-mint-600/30 p-[.2rem] transition-all ease-in duration-150 hover:scale-105 hover:shadow-[0_20px_50px_rgba(13,188,130,0.4)] z-40 md:col-start-3 md:row-start-2"
    >
      <div class="h-full w-full overflow-hidden rounded-2xl dark:bg-zinc-900">
        <div class="relative h-full w-full overflow-hidden rounded-2xl bg-linear-to-tr from-riptide-100 to-white dark:from-transparent dark:bg-linear-to-bl dark:to-transparent">
          <a
            target="_blank"
            href="https://github.com/AndresFelipeGonzalezGarcia/BasesDeDatos2_2026"
            aria-label="Mira mi repositorio aquÃ­"
            rel="noopener noreferrer"
          >
            <div class="relative flex h-full flex-col gap-8 p-8 max-xl:p-5 max-md:p-4">
              <div class="z-2">
                <Heading text="Trabajos de la clase (Repositorio)" level={3} />
              </div>

              <Icon
                class="absolute -bottom-10 left-30 size-50 text-mint-500/30 group-hover:animate-pulse ease-in-out max-sm:left-10 max-md:left-30 xl:size-56 xl:-bottom-5 xl:-right-24"
                name="github"
                aria-hidden="true"
              />
            </div>
          </a>
        </div>
      </div>
    </div>

  </div>
</section>
